class Solution:
    def maxWater(self, arr):
        n=len(arr)
        l, r = 0, n-1
        leftMax = rightMax = 0
        total = 0
        
        while l < r:
            if arr[l] < arr[r]:
                if arr[l] >= leftMax:
                    leftMax = arr[l]
                else:
                    total += leftMax - arr[l]
                l += 1
            else:
                if arr[r] >= rightMax:
                    rightMax = arr[r]
                else:
                    total += rightMax - arr[r]
                r -= 1
        
        return total